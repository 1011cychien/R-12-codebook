%!TEX program = xelatex
\documentclass[a4paper,10pt,twocolumn,oneside]{article}
\setlength{\columnsep}{10pt}                                                                    %兩欄模式的間距
\setlength{\columnseprule}{0pt}                                                                %兩欄模式間格線粗細

\usepackage{algpseudocode}
\usepackage{amsthm}								%定義，例題
\usepackage{amssymb}
\usepackage{amsmath}
%\usepackage[margin=2cm]{geometry}
\usepackage{fontspec}								%設定字體
\usepackage{setspace}
\usepackage{color}
\usepackage[x11names]{xcolor}
\usepackage{listings}								%顯示code用的
%\usepackage[Glenn]{fncychap}						%排版，頁面模板
\usepackage{fancyhdr}								%設定頁首頁尾
\usepackage{graphicx}								%Graphic
\usepackage{enumitem}
\usepackage{changepage}
\usepackage[compact]{titlesec}    %compact mode for reducing margin
\usepackage[CheckSingle, CJKmath]{xeCJK}
\usepackage{hyperref}
\hypersetup{
  linktoc=all,
  hidelinks
}
% \usepackage{CJKulem}

\usepackage[toc]{multitoc}
\renewcommand*{\multicolumntoc}{2}

\usepackage[titles]{tocloft}
\renewcommand\cftsubsecfont{\footnotesize}
\renewcommand\cftsubsecpagefont{\small}
\renewcommand\cftsecindent{0.1em}
\renewcommand\cftsecnumwidth{1.2em}
\renewcommand\cftsubsecindent{0.5em}
\renewcommand\cftsubsecnumwidth{2.0em}
\renewcommand\cftdotsep{2}
\renewcommand\cftbeforesecskip{0.4em}
\renewcommand\cftbeforesubsecskip{0.2em}

%\usepackage[T1]{fontenc}
\usepackage{courier}
\topmargin=-1pt
\headsep=5pt
\textheight=780pt
\footskip=0pt
\voffset=-40pt
\textwidth=545pt
\marginparsep=0pt
\marginparwidth=0pt
\marginparpush=0pt
\oddsidemargin=0pt
\evensidemargin=0pt
\hoffset=-42pt

%\renewcommand\listfigurename{圖目錄}
%\renewcommand\listtablename{表目錄} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setmainfont[
  Path=./fonts/Montserrat/,
  BoldFont=Montserrat-SemiBold,
  ItalicFont=Montserrat-MediumItalic,
  BoldItalicFont=Montserrat-SemiBoldItalic
]{Montserrat-Medium}
\setmonofont[
  Path=./fonts/SourceCodePro/,
  BoldFont=SourceCodePro-Black,
  ItalicFont=SourceCodePro-Italic,
  BoldItalicFont=SourceCodePro-BlackItalic,
]{SourceCodePro-Regular}
\setCJKmainfont[Path=./fonts/open-huninn-font/]{jf-openhuninn-1.1}           %中文字型
\XeTeXlinebreaklocale "zh"						%中文自動換行
\XeTeXlinebreakskip = 0pt plus 0pt				%設定段落之間的距離
\setcounter{secnumdepth}{2}						%目錄顯示第三層
\setcounter{tocdepth}{2}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeatletter
\lst@CCPutMacro\lst@ProcessOther {"2D}{\lst@ttfamily{-{}}{-{}}}
\@empty\z@\@empty
\makeatother
\lstset{											% Code顯示
language=[11]C++,										% the language of the code
basicstyle=\footnotesize\ttfamily, 						% the size of the fonts that are used for the code
%numbers=left,										% where to put the line-numbers
numberstyle=\footnotesize,						% the size of the fonts that are used for the line-numbers
stepnumber=1,										% the step between two line-numbers. If it's 1, each line  will be numbered
numbersep=5pt,										% how far the line-numbers are from the code
backgroundcolor=\color{white},					% choose the background color. You must add \usepackage{color}
showspaces=false,									% show spaces adding particular underscores
showstringspaces=false,							% underline spaces within strings
showtabs=false,									% show tabs within strings adding particular underscores
frame=false,											% adds a frame around the code
tabsize=2,											% sets default tabsize to 2 spaces
captionpos=b,										% sets the caption-position to bottom
breaklines=true,									% sets automatic line breaking
breakatwhitespace=false,							% sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},							% if you want to add a comment within your code
morekeywords={*},									% if you want to add more keywords to the set
keywordstyle=\bfseries\color{Blue1},
commentstyle=\itshape\color{Red4},
stringstyle=\itshape\color{Green4},
literate={\ \ }{{\ }}1
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\footnotesize{\fontsize{8}{9.5}\selectfont}
\titlespacing*{\section} {0pt}{2ex plus 1ex minus .2ex}{0.8ex plus .2ex}  % minimize margin
\titlespacing*{\subsection} {0pt}{1.75ex plus 1ex minus .2ex}{0ex plus .2ex} % minimize margin

\begin{document}
\pagestyle{fancy}
\fancyfoot{}
\fancyhead[L]{National Taiwan University - ckiseki}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\contentsname}{Contents} 

\vspace{-20em}
\begin{spacing}{0.5}
\tableofcontents
\end{spacing}
\vspace{-1em}

\scriptsize

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\lstdefinelanguage{vim}
{
  % list of keywords
  morekeywords={
  set, se,
  colo, syn,
  let,
  map, nmap, inoremap,
  filetype,
  indent,
  on, off,
  autocmd,
  Plugin,
  call,
  ca,
   },
morecomment=[l]{"}, % l is for line comment
morestring=[b]' % defines that strings are enclosed in double quotes
}


\newcommand{\includecode}[3][C++]{
  \subsection{#2}
  \vspace{-0.8em}
  \lstinputlisting[language=#1]{#3}
  \vspace{-1.2em}
}

\newcommand{\includecppwithhash}[2]{
    \subsection[#1] {#1
        \immediate\write18{./hash.sh "#2"}
        {\small [\immediate\protect\input{/tmp/hash/pdf/#2.md5}\unskip]}
    }
    \vspace{-0.8em}
    \lstinputlisting{#2}
    \vspace{-1.2em}
}

\newcommand{\includetex}[2]{
  \subsection{#1}
  \input{#2}
  \vspace{-1.2em}
}

\newcommand{\sectiontitle}[1]{
  \section{#1}
  \vspace{-0.5em}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\sectiontitle{Basic}

\includecode[vim]{vimrc}{../codes/Basic/vimrc}
\includecppwithhash{Debug Macro}{../codes/Basic/debug.cpp}
\includecode{Increase Stack}{../codes/Basic/IncStack.cpp}
\includecppwithhash{Pragma Optimization}{../codes/Basic/Pragma.cpp}
% \subsection{Debugger}
% \lstinputlisting[language=python]{../codes/Basic/debug_checker.py}
% \subsection{Quick Random}
% \lstinputlisting{../codes/Basic/random_generator.cpp}
\includecppwithhash{IO Optimization}{../codes/Basic/IOOptimize.cpp}


\sectiontitle{Data Structure}

%\includecppwithhash{Bigint}{../codes/Data_Structure/Bigint.cpp}
\includecppwithhash{Dark Magic}{../codes/Data_Structure/ext_pbds.cpp}
% \subsection{SkewHeap}
% \lstinputlisting{../codes/Data_Structure/SkewHeap.cpp}
% \includecppwithhash{Disjoint Set}{../codes/Data_Structure/DisjointSet.cpp}
\includecppwithhash{Link-Cut Tree}{../codes/Data_Structure/LCT.cpp}
\includecppwithhash{LiChao Segment Tree}{../codes/Data_Structure/LiChao.cpp}
\includecppwithhash{Treap}{../codes/Data_Structure/Treap.cpp}
%\includecppwithhash{Sparse Table}{../codes/Data_Structure/SparseTable.cpp}
\includecppwithhash{Linear Basis}{../codes/Data_Structure/LinearBasis.cpp}
\includecppwithhash{Binary Search On Segtree}{../codes/Data_Structure/binary_search_on_segtree.cpp}


\sectiontitle{Graph}

% \includecppwithhash{Euler Circuit}{../codes/Graph/EulerCircuit.cpp}
\includecppwithhash{2-SAT (SCC)}{../codes/Graph/2SAT.cpp}
%\includecppwithhash{BCC Edge}{../codes/Graph/BCC_Edge.cpp}
%\includecppwithhash{BCC Vertex}{../codes/Graph/BCC_Vertex.cpp}
\includecppwithhash{BCC}{../codes/Graph/BCC.cpp}
\includecppwithhash{Round Square Tree}{../codes/Graph/RoundSquareTree.cpp}
\includecppwithhash{Edge TCC}{../codes/Graph/ETCC.cpp}
\includecppwithhash{Centroid Decomposition}{../codes/Graph/CenDec.cpp}
\includecppwithhash{DMST}{../codes/Graph/FastDirectedMST.cpp}
\includecppwithhash{Dominator Tree}{../codes/Graph/DominatorTree.cpp}
\includecppwithhash{Edge Coloring}{../codes/Graph/Misra.cpp}
\includecppwithhash{Lowbit Decomposition}{../codes/Graph/LowbitDecomposition.cpp}
\includecppwithhash{Manhattan MST}{../codes/Graph/ManhattanMST.cpp}
\includecppwithhash{MaximalClique}{../codes/Graph/MaxClique.cpp}
\includecppwithhash{MaximumClique}{../codes/Graph/MaxCliqueDyn.cpp}
\includecppwithhash{Minimum Mean Cycle}{../codes/Graph/MinMeanCycle.cpp}
% \includecppwithhash{Minimum Steiner Tree}{../codes/Graph/MinSteinerTree.cpp}
\includetex{Mo's Algorithm on Tree}{../codes/Graph/MoTree.tex}
\includecppwithhash{Tree Hashing}{../codes/Graph/TreeHash.cpp}
\includecppwithhash{Virtual Tree}{../codes/Graph/virtual_tree.cpp}
% \includetex{Differential Constraints}{../codes/Graph/DiffConstraints.tex}


\sectiontitle{Matching \& Flow}

\includecppwithhash{HopcroftKarp}{../codes/Matching_and_Flow/Bi_Pair_Fast.cpp}
\includecppwithhash{Dijkstra Cost Flow}{../codes/Matching_and_Flow/DijkstraCostFlow.cpp}
\includecppwithhash{Dinic}{../codes/Matching_and_Flow/Dinic.cpp}

%\includecppwithhash{Construct VC}{../codes/Matching_and_Flow/GenVertexCover.cpp}
\includetex{Flow Models}{../codes/Matching_and_Flow/FlowModels.tex}
\includecppwithhash{General Graph Matching}{../codes/Matching_and_Flow/GeneralMatching.cpp}
\includecppwithhash{Global Min-Cut}{../codes/Matching_and_Flow/SW.cpp}
\includecppwithhash{GomoryHu Tree}{../codes/Matching_and_Flow/GomoryHu.cpp}
\includecppwithhash{Kuhn Munkres}{../codes/Matching_and_Flow/KM.cpp}
\includecppwithhash{Minimum Cost Circulation}{../codes/Matching_and_Flow/MinCostCirculation.cpp}
\includecppwithhash{Minimum Cost Max Flow}{../codes/Matching_and_Flow/CostFlow.cpp}
\includecppwithhash{Weighted Matching}{../codes/Matching_and_Flow/WeightedGeneralMatching.cpp}

\sectiontitle{Math}

%\includetex{Prime Table}{../codes/Math/primes.tex}
%\includetex{$\lfloor \frac{n}{i} \rfloor$ Enumeration}{../codes/Math/ReciprocalEnum.tex}
\includetex{Common Bounds}{../codes/Math/Bounds.tex}
\includetex{Strling Number}{../codes/Math/StirlingNumber.tex}
\includecppwithhash{ax+by=gcd}{../codes/Math/ExtendedGCD.cpp}
\includecppwithhash{Chinese Remainder}{../codes/Math/ChineseRemainder.cpp}
%\includetex{Chinese Remainder}{../codes/Math/ChineseRemainder.tex}
\includecppwithhash{De-Bruijn}{../codes/Math/debruijn.cpp}
\includecppwithhash{DiscreteLog}{../codes/Math/DiscreteLog.cpp}
\includecppwithhash{Quadratic residue}{../codes/Math/QuadraticResidue.cpp}
\includetex{Extended Euler}{../codes/Math/ExtendedEuler.tex}
\includetex{Extended FloorSum}{../codes/Math/ExtendedFloorSum.tex}
\includecppwithhash{FloorSum}{../codes/Math/FloorSum.cpp}
\includecppwithhash{ModMin}{../codes/Math/ModMin.cpp}

\includecppwithhash{Fast Fourier Transform}{../codes/Math/FFT.cpp}
\includecppwithhash{FWT}{../codes/Math/FWT.cpp}
\includecppwithhash{CRT for arbitrary mod}{../codes/Math/superBigCRT.cpp}
\includecppwithhash{NTT}{../codes/Math/NTT.cpp}

\includecppwithhash{Partition Number}{../codes/Math/PartitionNumber.cpp}
\includecppwithhash{Pi Count (+Linear Sieve)}{../codes/Math/MeisselLehmer.cpp}
\includecppwithhash{Miller Rabin}{../codes/Math/MillerRabin.cpp}
\includecppwithhash{Pollard Rho}{../codes/Math/PollardRho.cpp}

\includecppwithhash{Berlekamp Massey}{../codes/Math/Berlekamp-Massey.cpp}
%\includecppwithhash{Gauss Elimination}{../codes/Math/GaussElimination.cpp}
\includecppwithhash{Charateristic Polynomial}{../codes/Math/CharPoly.cpp}
\includecppwithhash{Polynomial Operations}{../codes/Math/PolynomialOp.cpp}
\includecppwithhash{Simplex}{../codes/Math/simplex.cpp}
\includetex{Simplex Construction}{../codes/Math/SimplexConstruction.tex}
\includecppwithhash{Adaptive Simpson}{../codes/Math/AdaptiveSimpson.cpp}

\sectiontitle{Geometry}

\includecppwithhash{Basic Geometry}{../codes/Geometry/Basic.cpp}
\includecppwithhash{2D Convex Hull}{../codes/Geometry/ConvexHull.cpp}
\includecppwithhash{2D Farthest Pair}{../codes/Geometry/FarthestPair.cpp}
\includecppwithhash{MinMax Enclosing Rect}{../codes/Geometry/MinMaxEnclosingRect.cpp}
\includecppwithhash{Minkowski Sum}{../codes/Geometry/MinkowskiSum.cpp}

\includecppwithhash{Segment Intersection}{../codes/Geometry/SegIsIntersect.cpp}
\includecppwithhash{Half Plane Intersection}{../codes/Geometry/HalfPlaneIntersection.cpp}
\includecppwithhash{SegmentDist (Sausage)}{../codes/Geometry/SegSegDist.cpp}

\includecppwithhash{Rotating Sweep Line}{../codes/Geometry/RotatingSweepLine.cpp}
% \includecppwithhash{2D Closest Pair}{../codes/Geometry/2D_ClosestPair.cpp}

\includecppwithhash{Point In Simple Polygon}{../codes/Geometry/PointInPoly.cpp}
\includecppwithhash{Point In Hull (Fast)}{../codes/Geometry/PointInHull.cpp}
% \includecppwithhash{Convex Hulls Tangent}{../codes/Geometry/convex_hulls_tangent.cpp}
\includecppwithhash{Tangent of Points To Hull}{../codes/Geometry/TangentPointToHull.cpp}

\includecppwithhash{Circle Class \& Intersection}{../codes/Geometry/Circle/Basic.cpp}
% \includecppwithhash{Intersection of Two Circle}{../codes/Geometry/intersection_of_two_circles.cpp}
\includecppwithhash{Circle Common Tangent}{../codes/Geometry/Circle/TangentLineOfTwoCircles.cpp}
\includecppwithhash{Line-Circle Intersection}{../codes/Geometry/Circle/InterWithLine.cpp}
\includecppwithhash{Poly-Circle Intersection}{../codes/Geometry/Circle/InterWithPoly.cpp}
\includecppwithhash{Minimum Covering Circle}{../codes/Geometry/Circle/MinCircleCover.cpp}
\includecppwithhash{Circle Union}{../codes/Geometry/Circle/CircleUnion.cpp}

\includecppwithhash{Polygon Union}{../codes/Geometry/PolyUnion.cpp}

\includecppwithhash{3D Convex Hull}{../codes/Geometry/3d/ConvexHull.cpp}
\includecppwithhash{Delaunay}{../codes/Geometry/Delaunay.cpp}
\includecppwithhash{kd Tree (Nearest Point)}{../codes/Geometry/KDTree.cpp}
\includecppwithhash{kd Closest Pair (3D ver.)}{../codes/Geometry/3d/ClosestPair.cpp}
\includecppwithhash{Simulated Annealing}{../codes/Geometry/SimulateAnnealing.cpp}
\includecppwithhash{Triangle Centers}{../codes/Geometry/TriCenter.cpp}
% \includecppwithhash{Ternary Search on Integer}{../codes/Geometry/Ternary_Search.cpp}


\sectiontitle{Stringology}

\includecppwithhash{Hash}{../codes/String/Hash.cpp}
\includecppwithhash{Suffix Array}{../codes/String/Suffix_Array.cpp}
% \includecppwithhash{Aho-Corasick Algorithm}{../codes/String/Aho_Corasick.cpp}
\includecppwithhash{Ex SAM}{../codes/String/exSAM.cpp}
% \includecppwithhash{KMP}{../codes/String/KMP.cpp}
\includecppwithhash{Z value}{../codes/String/Z_Value.cpp}
\includecppwithhash{Manacher}{../codes/String/Manacher.cpp}
\includecppwithhash{Lexico Smallest Rotation}{../codes/String/smallest_rotation.cpp}
\includecppwithhash{Main Lorentz}{../codes/String/MainLorentz.cpp}
\includecppwithhash{BWT}{../codes/String/BWT.cpp}
\includecppwithhash{Palindromic Tree}{../codes/String/palindromic_tree.cpp}


\sectiontitle{Misc}

\includetex{Theorems}{../codes/Misc/Theorems.tex}
\includecppwithhash{Weight Matroid Intersection}{../codes/Misc/MatroidIntersection.cpp}
% \includecppwithhash{MaximumEmptyRect}{../codes/Misc/EmptyRect.cpp}
%\includetex{DP-opt Condition}{../codes/Misc/DPcondition.tex}
\includecppwithhash{Bitset LCS}{../codes/Misc/BitsetLCS.cpp}
\includecppwithhash{Prefix Substring LCS}{../codes/Misc/PrefixSubstringLCS.cpp}
\includecppwithhash{Convex 1D/1D DP}{../codes/Misc/Convex1D1D.cpp}
\includecppwithhash{ConvexHull Optimization}{../codes/Misc/SlopeDP.cpp}
\includecppwithhash{Josephus Problem}{../codes/Misc/Josephus.cpp}
% \includecppwithhash{Cactus Matching}{../codes/Misc/CactusMatching.cpp}
%\includecppwithhash{DLX}{../codes/Misc/DLX.cpp}
\includecppwithhash{Tree Knapsack}{../codes/Misc/tree_knapsack.cpp}
\includecppwithhash{N Queens Problem}{../codes/Misc/NQueens.cpp}
\includetex{Stable Marriage}{../codes/Misc/StableMarriage.tex}
%\includecppwithhash{Aliens Optimization}{../codes/Misc/Aliens.cpp}
%\includecppwithhash{Hilbert Curve}{../codes/Misc/Hilbert.cpp}
\includecppwithhash{Binary Search On Fraction}{../codes/Misc/BinarySearchOnFraction.cpp}
%\includetex{To Check When Submit}{../codes/Misc/tocheck.tex}


\end{document}
