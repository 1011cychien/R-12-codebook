\subsubsection{Spherical Coordinate}

\begin{center}
\includegraphics[width=25mm]{../codes/Misc/sphericalCoordinates.pdf}
\end{center}
\[\begin{array}{cc}
x = r\sin\theta\cos\phi & r = \sqrt{x^2+y^2+z^2}\\
y = r\sin\theta\sin\phi & \theta = \textrm{acos}(z/\sqrt{x^2+y^2+z^2})\\
z = r\cos\theta & \phi = \textrm{atan2}(y,x)
\end{array}\]

\subsubsection{Sherman-Morrison formula}
$\left(A + uv^\textsf{T}\right)^{-1} = A^{-1} - \frac{A^{-1}uv^\textsf{T}A^{-1}}{1 + v^\textsf{T}A^{-1}u}$

\subsubsection{Kirchhoff's Theorem}
Denote $L$ be a $n \times n$ matrix as the Laplacian matrix of graph $G$, where $L_{ii} = d(i)$, $L_{ij} = -c$ where $c$ is the number of edge $(i, j)$ in $G$.
\begin{itemize}[nosep]
    \item The number of undirected spanning in $G$ is $\det(\tilde{L}_{11})$.
    \item The number of directed spanning tree rooted at $r$ in $G$ is $\det(\tilde{L}_{rr})$.
\end{itemize}

\subsubsection{Tutte's Matrix}
Let $D$ be a $n \times n$ matrix, where $d_{ij} = x_{ij}$ ($x_{ij}$ is chosen uniform randomly) if $i < j$ and $(i, j) \in E$, otherwise $d_{ij} = -d_{ji}$. $\frac{rank(D)}{2}$ is the maximum matching on $G$.

\subsubsection{Cayley's Formula}
\begin{itemize}[nosep]
  \item Given a degree sequence $d_1, d_2, \ldots, d_n$ for each labeled vertices, there're $\frac{(n - 2)!}{(d_1 - 1)!(d_2 - 1)!\cdots(d_n - 1)!}$ spanning trees.
  \item Let $T_{n, k}$ be the number of labeled forests on $n$ vertices with $k$ components, such that vertex $1, 2, \ldots, k$ belong to different components. Then $T_{n, k} = kn^{n - k - 1}$.
\end{itemize}

\subsubsection{Erdős–Gallai theorem}
A sequence of non-negative integers $d_1 \geq d_2 \geq \ldots \geq d_n$ can be represented as the degree sequence of a finite simple graph on $n$ vertices if and only if $d_1 + d_2 + \ldots + d_n$ is even and
$$ \sum_{i = 1}^{k}d_i \leq k(k - 1) + \sum_{i = k + 1}^{n}\min(d_i, k) $$
holds for all $1 \leq k \leq n$.

\subsubsection{Havel–Hakimi algorithm}
find the vertex who has greatest degree unused, connect it with other greatest vertex.

%\subsubsection{Hall's marriage theorem}
%Let $G$ be a finite bipartite graph with bipartite sets $X$ and $Y$.
%For a subset $W$ of $X$, let $N_G(W)$ denote the set of all vertices in $Y$ adjacent to some element of $W$. Then there is an $X$-saturating matching iff $\forall W \subseteq X, |W| \leq |N_G(W)|$

\subsubsection{Euler's planar graph formula}
$V-E+F=C+1$. $E\leq 3V-6$ (when $V\geq 3$)

\subsubsection{Pick's theorem}
For simple polygon, when points are all integer, we have $A=\text{\#\{lattice points in the interior\}} + \frac{\text{\#\{lattice points on the boundary\}}}{2} - 1$

%\subsubsection{Lucas's theorem}
%$\binom{m}{n}\equiv\prod_{i=0}^k\binom{m_i}{n_i}\pmod p$, where $m=m_kp^k+m_{k-1}p^{k-1}+\cdots +m_1p+m_0$, and $n=n_kp^k+n_{k-1}p^{k-1}+\cdots +n_1p+n_0$.

\subsubsection{Matroid Intersection}
Given matroids \(M_1=(G,I_1),M_2=(G,I_2)\), find maximum \(S\in I_1\cap I_2\).
For each iteration, build the directed graph and find a shortest path from \(s\) to \(t\).
\begin{itemize}[nosep]
    \item \(s \to x: S \sqcup \{x\} \in I_1\)
    \item \(x \to t: S \sqcup \{x\} \in I_2\)
    \item \(y \to x: S \setminus \{y\} \sqcup \{x\} \in I_1\) (\(y\) is in the unique circuit of \(S \sqcup \{x\}\))
    \item \(x \to y: S \setminus \{y\} \sqcup \{x\} \in I_2\) (\(y\) is in the unique circuit of \(S \sqcup \{x\}\))
\end{itemize}
Alternate the path, and \(|S|\) will increase by \(1\).
Let \(R = \min(\operatorname{rank}(I_1), \operatorname{rank}(I_2)), N = |G|\).
In each iteration, \(|E| = O(RN)\).
For weighted case, assign weight \(-w(x)\) and \(w(x)\) to \(x\in S\) and \(x\notin S\), resp.
Use Bellman-Ford to find the weighted shortest path.
The maximum iteration of Bellman-Ford is \(2R+1\).
