\[
a^b \equiv \begin{cases}
 a^{b \mod{\varphi(m)} + \varphi(m)}& \text{if } (a, m) \neq 1 \land b \geq \varphi(m) \\
 a^{b \mod{\varphi(m)}} & \text{otherwise}
\end{cases}
\pmod{m}
\]
